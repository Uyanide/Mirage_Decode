import{N as ut,O as pt,r as h,Q as gt,j as d,o as z,R as ft,p as E,i as L,U as mt,k as O,w as X,n as w,x as D,V as ht,t as at,l as V,v as W,T as tt,W as bt,y as yt,C as wt,G as St,b as nt}from"./index-BEPoz5Rf.js";import{m as xt,h as Ct,u as it,o as kt,f as $t,T as vt,i as Pt}from"./format-selector-Cgg54ShH.js";const Tt=(t,e)=>t.filter(o=>e.includes(o)),J=(t,e,o)=>{const s=t.keys[0];Array.isArray(e)?e.forEach((n,r)=>{o((a,i)=>{r<=t.keys.length-1&&(r===0?Object.assign(a,i):a[t.up(t.keys[r])]=i)},n)}):e&&typeof e=="object"?(Object.keys(e).length>t.keys.length?t.keys:Tt(t.keys,Object.keys(e))).forEach(r=>{if(t.keys.includes(r)){const a=e[r];a!==void 0&&o((i,p)=>{s===r?Object.assign(i,p):i[t.up(r)]=p},a)}}):(typeof e=="number"||typeof e=="string")&&o((n,r)=>{Object.assign(n,r)},e)};function et(t){return`--Grid-${t}Spacing`}function ot(t){return`--Grid-parent-${t}Spacing`}const rt="--Grid-columns",H="--Grid-parent-columns",Rt=({theme:t,ownerState:e})=>{const o={};return J(t.breakpoints,e.size,(s,n)=>{let r={};n==="grow"&&(r={flexBasis:0,flexGrow:1,maxWidth:"100%"}),n==="auto"&&(r={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"}),typeof n=="number"&&(r={flexGrow:0,flexBasis:"auto",width:`calc(100% * ${n} / var(${H}) - (var(${H}) - ${n}) * (var(${ot("column")}) / var(${H})))`}),s(o,r)}),o},Dt=({theme:t,ownerState:e})=>{const o={};return J(t.breakpoints,e.offset,(s,n)=>{let r={};n==="auto"&&(r={marginLeft:"auto"}),typeof n=="number"&&(r={marginLeft:n===0?"0px":`calc(100% * ${n} / var(${H}) + var(${ot("column")}) * ${n} / var(${H}))`}),s(o,r)}),o},jt=({theme:t,ownerState:e})=>{if(!e.container)return{};const o={[rt]:12};return J(t.breakpoints,e.columns,(s,n)=>{const r=n??12;s(o,{[rt]:r,"> *":{[H]:r}})}),o},Bt=({theme:t,ownerState:e})=>{if(!e.container)return{};const o={};return J(t.breakpoints,e.rowSpacing,(s,n)=>{const r=typeof n=="string"?n:t.spacing?.(n);s(o,{[et("row")]:r,"> *":{[ot("row")]:r}})}),o},Mt=({theme:t,ownerState:e})=>{if(!e.container)return{};const o={};return J(t.breakpoints,e.columnSpacing,(s,n)=>{const r=typeof n=="string"?n:t.spacing?.(n);s(o,{[et("column")]:r,"> *":{[ot("column")]:r}})}),o},Nt=({theme:t,ownerState:e})=>{if(!e.container)return{};const o={};return J(t.breakpoints,e.direction,(s,n)=>{s(o,{flexDirection:n})}),o},Ft=({ownerState:t})=>({minWidth:0,boxSizing:"border-box",...t.container&&{display:"flex",flexWrap:"wrap",...t.wrap&&t.wrap!=="wrap"&&{flexWrap:t.wrap},gap:`var(${et("row")}) var(${et("column")})`}}),Gt=t=>{const e=[];return Object.entries(t).forEach(([o,s])=>{s!==!1&&s!==void 0&&e.push(`grid-${o}-${String(s)}`)}),e},zt=(t,e="xs")=>{function o(s){return s===void 0?!1:typeof s=="string"&&!Number.isNaN(Number(s))||typeof s=="number"&&s>0}if(o(t))return[`spacing-${e}-${String(t)}`];if(typeof t=="object"&&!Array.isArray(t)){const s=[];return Object.entries(t).forEach(([n,r])=>{o(r)&&s.push(`spacing-${n}-${String(r)}`)}),s}return[]},Et=t=>t===void 0?[]:typeof t=="object"?Object.entries(t).map(([e,o])=>`direction-${e}-${o}`):[`direction-xs-${String(t)}`];function Lt(t,e){t.item!==void 0&&delete t.item,t.zeroMinWidth!==void 0&&delete t.zeroMinWidth,e.keys.forEach(o=>{t[o]!==void 0&&delete t[o]})}const At=mt(),It=ut("div",{name:"MuiGrid",slot:"Root"});function Ut(t){return ft({props:t,name:"MuiGrid",defaultTheme:At})}function Wt(t={}){const{createStyledComponent:e=It,useThemeProps:o=Ut,useTheme:s=pt,componentName:n="MuiGrid"}=t,r=(c,l)=>{const{container:f,direction:u,spacing:m,wrap:g,size:k}=c,$={root:["root",f&&"container",g!=="wrap"&&`wrap-xs-${String(g)}`,...Et(u),...Gt(k),...f?zt(m,l.breakpoints.keys[0]):[]]};return E($,v=>L(n,v),{})};function a(c,l,f=()=>!0){const u={};return c===null||(Array.isArray(c)?c.forEach((m,g)=>{m!==null&&f(m)&&l.keys[g]&&(u[l.keys[g]]=m)}):typeof c=="object"?Object.keys(c).forEach(m=>{const g=c[m];g!=null&&f(g)&&(u[m]=g)}):u[l.keys[0]]=c),u}const i=e(jt,Mt,Bt,Rt,Nt,Ft,Dt),p=h.forwardRef(function(l,f){const u=s(),m=o(l),g=gt(m);Lt(g,u.breakpoints);const{className:k,children:$,columns:v=12,container:A=!1,component:j="div",direction:B="row",wrap:x="wrap",size:M={},offset:q={},spacing:I=0,rowSpacing:N=I,columnSpacing:F=I,unstable_level:P=0,...S}=g,_=a(M,u.breakpoints,R=>R!==!1),T=a(q,u.breakpoints),G=l.columns??(P?void 0:v),U=l.spacing??(P?void 0:I),st=l.rowSpacing??l.spacing??(P?void 0:N),K=l.columnSpacing??l.spacing??(P?void 0:F),Q={...g,level:P,columns:G,container:A,direction:B,wrap:x,spacing:U,rowSpacing:st,columnSpacing:K,size:_,offset:T},Z=r(Q,u);return d.jsx(i,{ref:f,as:j,ownerState:Q,className:z(Z.root,k),...S,children:h.Children.map($,R=>h.isValidElement(R)&&xt(R,["Grid"])&&A&&R.props.container?h.cloneElement(R,{unstable_level:R.props?.unstable_level??P+1}):R)})});return p.muiName="Grid",p}function Ot(t){return L("PrivateSwitchBase",t)}O("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Vt=t=>{const{classes:e,checked:o,disabled:s,edge:n}=t,r={root:["root",o&&"checked",s&&"disabled",n&&`edge${D(n)}`],input:["input"]};return E(r,Ot,e)},qt=w(ht,{name:"MuiSwitchBase"})({padding:9,borderRadius:"50%",variants:[{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:({edge:t,ownerState:e})=>t==="start"&&e.size!=="small",style:{marginLeft:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}},{props:({edge:t,ownerState:e})=>t==="end"&&e.size!=="small",style:{marginRight:-12}}]}),_t=w("input",{name:"MuiSwitchBase",shouldForwardProp:at})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Xt=h.forwardRef(function(e,o){const{autoFocus:s,checked:n,checkedIcon:r,defaultChecked:a,disabled:i,disableFocusRipple:p=!1,edge:c=!1,icon:l,id:f,inputProps:u,inputRef:m,name:g,onBlur:k,onChange:$,onFocus:v,readOnly:A,required:j=!1,tabIndex:B,type:x,value:M,slots:q={},slotProps:I={},...N}=e,[F,P]=Ct({controlled:n,default:!!a,name:"SwitchBase",state:"checked"}),S=it(),_=b=>{v&&v(b),S&&S.onFocus&&S.onFocus(b)},T=b=>{k&&k(b),S&&S.onBlur&&S.onBlur(b)},G=b=>{if(b.nativeEvent.defaultPrevented)return;const C=b.target.checked;P(C),$&&$(b,C)};let U=i;S&&typeof U>"u"&&(U=S.disabled);const st=x==="checkbox"||x==="radio",K={...e,checked:F,disabled:U,disableFocusRipple:p,edge:c},Q=Vt(K),Z={slots:q,slotProps:{input:u,...I}},[R,lt]=X("root",{ref:o,elementType:qt,className:Q.root,shouldForwardComponentProp:!0,externalForwardedProps:{...Z,component:"span",...N},getSlotProps:b=>({...b,onFocus:C=>{b.onFocus?.(C),_(C)},onBlur:C=>{b.onBlur?.(C),T(C)}}),ownerState:K,additionalProps:{centerRipple:!0,focusRipple:!p,disabled:U,role:void 0,tabIndex:null}}),[ct,dt]=X("input",{ref:m,elementType:_t,className:Q.input,externalForwardedProps:Z,getSlotProps:b=>({...b,onChange:C=>{b.onChange?.(C),G(C)}}),ownerState:K,additionalProps:{autoFocus:s,checked:n,defaultChecked:a,disabled:U,id:st?f:void 0,name:g,readOnly:A,required:j,tabIndex:B,type:x,...x==="checkbox"&&M===void 0?{}:{value:M}}});return d.jsxs(R,{...lt,children:[d.jsx(ct,{...dt}),F?r:l]})});function Ht(t){return L("MuiDialogActions",t)}O("MuiDialogActions",["root","spacing"]);const Jt=t=>{const{classes:e,disableSpacing:o}=t;return E({root:["root",!o&&"spacing"]},Ht,e)},Kt=w("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,!o.disableSpacing&&e.spacing]}})({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto",variants:[{props:({ownerState:t})=>!t.disableSpacing,style:{"& > :not(style) ~ :not(style)":{marginLeft:8}}}]}),Qt=h.forwardRef(function(e,o){const s=V({props:e,name:"MuiDialogActions"}),{className:n,disableSpacing:r=!1,...a}=s,i={...s,disableSpacing:r},p=Jt(i);return d.jsx(Kt,{className:z(p.root,n),ownerState:i,ref:o,...a})});function Yt(t){return L("MuiDialogContent",t)}O("MuiDialogContent",["root","dividers"]);function Zt(t){return L("MuiDialogTitle",t)}const te=O("MuiDialogTitle",["root"]),ee=t=>{const{classes:e,dividers:o}=t;return E({root:["root",o&&"dividers"]},Yt,e)},oe=w("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.dividers&&e.dividers]}})(W(({theme:t})=>({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px",variants:[{props:({ownerState:e})=>e.dividers,style:{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}},{props:({ownerState:e})=>!e.dividers,style:{[`.${te.root} + &`]:{paddingTop:0}}}]}))),se=h.forwardRef(function(e,o){const s=V({props:e,name:"MuiDialogContent"}),{className:n,dividers:r=!1,...a}=s,i={...s,dividers:r},p=ee(i);return d.jsx(oe,{className:z(p.root,n),ownerState:i,ref:o,...a})});function ne(t){return L("MuiDialogContentText",t)}O("MuiDialogContentText",["root"]);const re=t=>{const{classes:e}=t,s=E({root:["root"]},ne,e);return{...e,...s}},ae=w(tt,{shouldForwardProp:t=>at(t)||t==="classes",name:"MuiDialogContentText",slot:"Root"})({}),ie=h.forwardRef(function(e,o){const s=V({props:e,name:"MuiDialogContentText"}),{children:n,className:r,...a}=s,i=re(a);return d.jsx(ae,{component:"p",variant:"body1",color:"textSecondary",ref:o,ownerState:a,className:z(i.root,r),...s,classes:i})}),le=t=>{const{classes:e}=t;return E({root:["root"]},Zt,e)},ce=w(tt,{name:"MuiDialogTitle",slot:"Root"})({padding:"16px 24px",flex:"0 0 auto"}),de=h.forwardRef(function(e,o){const s=V({props:e,name:"MuiDialogTitle"}),{className:n,id:r,...a}=s,i=s,p=le(i),{titleId:c=r}=h.useContext(kt);return d.jsx(ce,{component:"h2",className:z(p.root,n),ownerState:i,ref:o,variant:"h6",id:r??c,...a})});function ue(t){return L("MuiFormControlLabel",t)}const Y=O("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),pe=t=>{const{classes:e,disabled:o,labelPlacement:s,error:n,required:r}=t,a={root:["root",o&&"disabled",`labelPlacement${D(s)}`,n&&"error",r&&"required"],label:["label",o&&"disabled"],asterisk:["asterisk",n&&"error"]};return E(a,ue,e)},ge=w("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{[`& .${Y.label}`]:e.label},e.root,e[`labelPlacement${D(o.labelPlacement)}`]]}})(W(({theme:t})=>({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Y.disabled}`]:{cursor:"default"},[`& .${Y.label}`]:{[`&.${Y.disabled}`]:{color:(t.vars||t).palette.text.disabled}},variants:[{props:{labelPlacement:"start"},style:{flexDirection:"row-reverse",marginRight:-11}},{props:{labelPlacement:"top"},style:{flexDirection:"column-reverse"}},{props:{labelPlacement:"bottom"},style:{flexDirection:"column"}},{props:({labelPlacement:e})=>e==="start"||e==="top"||e==="bottom",style:{marginLeft:16}}]}))),fe=w("span",{name:"MuiFormControlLabel",slot:"Asterisk"})(W(({theme:t})=>({[`&.${Y.error}`]:{color:(t.vars||t).palette.error.main}}))),me=h.forwardRef(function(e,o){const s=V({props:e,name:"MuiFormControlLabel"}),{checked:n,className:r,componentsProps:a={},control:i,disabled:p,disableTypography:c,inputRef:l,label:f,labelPlacement:u="end",name:m,onChange:g,required:k,slots:$={},slotProps:v={},value:A,...j}=s,B=it(),x=p??i.props.disabled??B?.disabled,M=k??i.props.required,q={disabled:x,required:M};["checked","name","onChange","value","inputRef"].forEach(G=>{typeof i.props[G]>"u"&&typeof s[G]<"u"&&(q[G]=s[G])});const I=$t({props:s,muiFormControl:B,states:["error"]}),N={...s,disabled:x,labelPlacement:u,required:M,error:I.error},F=pe(N),P={slots:$,slotProps:{...a,...v}},[S,_]=X("typography",{elementType:tt,externalForwardedProps:P,ownerState:N});let T=f;return T!=null&&T.type!==tt&&!c&&(T=d.jsx(S,{component:"span",..._,className:z(F.label,_?.className),children:T})),d.jsxs(ge,{className:z(F.root,r),ownerState:N,ref:o,...j,children:[h.cloneElement(i,q),M?d.jsxs("div",{children:[T,d.jsxs(fe,{ownerState:N,"aria-hidden":!0,className:F.asterisk,children:[" ","*"]})]}):T]})}),Pe=Wt({createStyledComponent:w("div",{name:"MuiGrid",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.container&&e.container]}}),componentName:"MuiGrid",useThemeProps:t=>V({props:t,name:"MuiGrid"}),useTheme:bt});function he(t){return L("MuiSwitch",t)}const y=O("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),be=t=>{const{classes:e,edge:o,size:s,color:n,checked:r,disabled:a}=t,i={root:["root",o&&`edge${D(o)}`,`size${D(s)}`],switchBase:["switchBase",`color${D(n)}`,r&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},p=E(i,he,e);return{...e,...p}},ye=w("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.root,o.edge&&e[`edge${D(o.edge)}`],e[`size${D(o.size)}`]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,[`& .${y.thumb}`]:{width:16,height:16},[`& .${y.switchBase}`]:{padding:4,[`&.${y.checked}`]:{transform:"translateX(16px)"}}}}]}),we=w(Xt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[e.switchBase,{[`& .${y.input}`]:e.input},o.color!=="default"&&e[`color${D(o.color)}`]]}})(W(({theme:t})=>({position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:`${t.palette.mode==="light"?t.palette.common.white:t.palette.grey[300]}`,transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),[`&.${y.checked}`]:{transform:"translateX(20px)"},[`&.${y.disabled}`]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:`${t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[600]}`},[`&.${y.checked} + .${y.track}`]:{opacity:.5},[`&.${y.disabled} + .${y.track}`]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:`${t.palette.mode==="light"?.12:.2}`},[`& .${y.input}`]:{left:"-100%",width:"300%"}})),W(({theme:t})=>({"&:hover":{backgroundColor:t.alpha((t.vars||t).palette.action.active,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter(yt(["light"])).map(([e])=>({props:{color:e},style:{[`&.${y.checked}`]:{color:(t.vars||t).palette[e].main,"&:hover":{backgroundColor:t.alpha((t.vars||t).palette[e].main,(t.vars||t).palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${y.disabled}`]:{color:t.vars?t.vars.palette.Switch[`${e}DisabledColor`]:`${t.palette.mode==="light"?t.lighten(t.palette[e].main,.62):t.darken(t.palette[e].main,.55)}`}},[`&.${y.checked} + .${y.track}`]:{backgroundColor:(t.vars||t).palette[e].main}}}))]}))),Se=w("span",{name:"MuiSwitch",slot:"Track"})(W(({theme:t})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:`${t.palette.mode==="light"?t.palette.common.black:t.palette.common.white}`,opacity:t.vars?t.vars.opacity.switchTrack:`${t.palette.mode==="light"?.38:.3}`}))),xe=w("span",{name:"MuiSwitch",slot:"Thumb"})(W(({theme:t})=>({boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}))),Ce=h.forwardRef(function(e,o){const s=V({props:e,name:"MuiSwitch"}),{className:n,color:r="primary",edge:a=!1,size:i="medium",sx:p,slots:c={},slotProps:l={},...f}=s,u={...s,color:r,edge:a,size:i},m=be(u),g={slots:c,slotProps:l},[k,$]=X("root",{className:z(m.root,n),elementType:ye,externalForwardedProps:g,ownerState:u,additionalProps:{sx:p}}),[v,A]=X("thumb",{className:m.thumb,elementType:xe,externalForwardedProps:g,ownerState:u}),j=d.jsx(v,{...A}),[B,x]=X("track",{className:m.track,elementType:Se,externalForwardedProps:g,ownerState:u});return d.jsxs(k,{...$,children:[d.jsx(we,{type:"checkbox",icon:j,checkedIcon:j,ref:o,ownerState:u,...f,classes:{...m,root:m.switchBase},slots:{...c.switchBase&&{root:c.switchBase},...c.input&&{input:c.input}},slotProps:{...l.switchBase&&{root:typeof l.switchBase=="function"?l.switchBase(u):l.switchBase},input:{role:"switch"},...l.input&&{input:typeof l.input=="function"?l.input(u):l.input}}}),d.jsx(B,{...x})]})}),Te=wt(t=>({showWarning:!0,setShowWarning:e=>{t({showWarning:e})}})),ke=(t,e)=>{const[o,s]=h.useState(t);return h.useEffect(()=>{const n=setTimeout(()=>{s(t)},e);return()=>{clearTimeout(n)}},[t,e]),o};function Re({initValue:t,onChange:e,debounce:o=200,min:s,max:n,...r}){const[a,i]=h.useState(t.toString()),[p,c]=h.useState(!0),l=ke(a,o);return h.useEffect(()=>{const f=parseFloat(l);!isNaN(f)&&(s===void 0||f>=s)&&(n===void 0||f<=n)?(c(!0),e(f)):c(!1)},[l,e,s,n]),d.jsx(vt,{value:a,error:!p,onChange:f=>{i(f.target.value)},...r})}function De({show:t,setShow:e,saveFormat:o,handleSave:s,showWarning:n,setShowWarning:r}){return d.jsxs(Pt,{open:t,onClose:()=>{e(!1)},maxWidth:"sm",fullWidth:!0,sx:{zIndex:St.dialog},children:[d.jsx(de,{id:"alert-dialog-title",children:`确认保存为 ${o}？`}),d.jsxs(se,{children:[d.jsx(ie,{id:"alert-dialog-description",children:"非 JPEG 格式可能会被社交平台强制压缩，这将严重影响显形效果。请谨慎选择。"}),d.jsx(me,{control:d.jsx(Ce,{checked:!n,onChange:a=>{r(!a.target.checked)}}),label:"本次不再显示此提示"})]}),d.jsxs(Qt,{children:[d.jsx(nt,{onClick:()=>{e(!1)},children:"取消"}),d.jsx(nt,{onClick:()=>{e(!1),s(o,!0)},autoFocus:!0,children:"仍然保存"})]})]})}export{De as F,Pe as G,Re as N,Xt as S,Ce as a,me as b,Te as u};
